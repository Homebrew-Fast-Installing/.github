<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Github Jump Gate • Base64 Link</title>
  <meta name="description" content="A sleek, GitHub‑dark themed jump gate that turns base64 into an HTTP(S) destination and opens it for you." />
  <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'" />
  <style>
    :root{--bg:#0d1117;--panel:#161b22;--text:#c9d1d9;--muted:#8b949e;--brand:#2ea043;--brand-fore:#fff;--border:#30363d;--accent:#58a6ff;--warn:#d29922}
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;background:var(--bg);color:var(--text);font:16px/1.5 system-ui,-apple-system,"Segoe UI",Roboto,Ubuntu,"Helvetica Neue",Arial;display:flex;min-height:100svh}
    .container{margin:auto;max-width:900px;width:92vw}
    .panel{background:var(--panel);border:1px solid var(--border);border-radius:14px;padding:22px}
    .title{display:grid;grid-template-columns:auto 1fr;gap:10px;align-items:center;margin-bottom:6px}
    .glyph{width:34px;height:34px;display:grid;place-items:center}
    h1{margin:0;font-size:24px}
    .desc{color:var(--muted);font-size:14px;margin:0 0 6px}
    .stack{display:grid;gap:10px}
    .meter{display:flex;align-items:center;gap:10px;border:1px solid var(--border);border-radius:999px;background:#0b0f14;padding:8px 12px}
    .status{min-width:160px}
    .spark{display:inline-flex;gap:6px}
    .spark i{width:6px;height:6px;border-radius:999px;background:var(--muted);animation:spark 1.1s infinite ease-in-out}
    .spark i:nth-child(2){animation-delay:.18s}
    .spark i:nth-child(3){animation-delay:.36s}
    @keyframes spark{0%,100%{opacity:.35;transform:translateY(0)}50%{opacity:1;transform:translateY(-1px)}}
    .actions{display:flex;gap:10px;align-items:center}
    .btn{border:1px solid var(--border);background:#0f141a;color:var(--text);padding:10px 14px;border-radius:10px;text-decoration:none}
    .btn[aria-disabled="true"]{opacity:.6;pointer-events:none}
    .hint{border-left:4px solid var(--warn);background:#1b1f25;border-radius:10px;padding:10px 12px}
    footer{margin-top:10px;color:var(--muted);font-size:12px;text-align:center}
  </style>
</head>
<body>
  <div class="container">
    <section class="panel" role="status" aria-live="polite">
      <div class="title">
        <div class="glyph" aria-hidden="true">
          <svg viewBox="0 0 24 24" width="26" height="26" role="img" aria-label="GitHub style mark"><path fill="currentColor" d="M12 0C5.37 0 0 5.37 0 12c0 5.3 3.44 9.8 8.21 11.39.6.1.82-.27.82-.58 0-.29-.01-1.05-.02-2.06-3.34.73-4.05-1.61-4.05-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.09-.74.08-.73.08-.73 1.21.08 1.85 1.24 1.85 1.24 1.07 1.84 2.81 1.31 3.5 1 .11-.78.42-1.31.77-1.62-2.67-.31-5.48-1.34-5.48-5.94 0-1.31.47-2.39 1.24-3.23-.12-.3-.54-1.53.12-3.18 0 0 1.01-.32 3.3 1.23.96-.27 1.98-.4 3-.4s2.04.13 3 .4c2.29-1.55 3.3-1.23 3.3-1.23.66 1.65.24 2.88.12 3.18.78.84 1.24 1.92 1.24 3.23 0 4.62-2.81 5.63-5.49 5.94.43.37.84 1.1.84 2.22 0 1.6-.01 2.89-.01 3.28 0 .33.22.71.83.59C20.56 21.8 24 17.3 24 12 24 5.37 18.63 0 12 0z"/></svg>
        </div>
        <h1>Github Jump Gate</h1>
      </div>
      <div class="stack">
        <div id="meter" class="meter" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="15" aria-valuetext="Init">
          <span id="state" class="status">Init…</span>
          <span class="spark" aria-hidden="true"><i></i><i></i><i></i></span>
        </div>
        <div class="actions">
          <a id="continue" class="btn" href="#" aria-disabled="true" rel="noopener noreferrer">Continue</a>
          <div id="tip" class="hint" hidden></div>
        </div>
      </div>
    </section>
    <noscript><div class="panel hint">JavaScript is required to continue.</div></noscript>
  </div>

  <!-- Inputs accepted: ?c / ?b64 / ?base64 OR script[data-urlb64] OR window.REDIRECT_BASE64 -->
  <script id="gate" data-urlb64="">
  (function(){
    'use strict';
    const E=(id)=>document.getElementById(id);
    const S=E('state'); const M=E('meter'); const T=E('tip'); const C=E('continue');
    const SELF=document.currentScript;

    function aria(v,t){ M.setAttribute('aria-valuenow',String(v)); if(t) M.setAttribute('aria-valuetext',t); }
    function speak(t){ S.textContent=t; }
    function hint(t){ T.textContent=t; T.hidden=false; }

    function source(){
      const q=new URLSearchParams(location.search);
      const a=(SELF?.dataset?.urlb64||'').trim();
      const g=(typeof window.REDIRECT_BASE64==='string'?window.REDIRECT_BASE64.trim():'');
      const x=(q.get('c')||q.get('b64')||q.get('base64')||'').trim();
      return x||a||g||'';
    }

    function fix(b){ return b.replace(/-/g,'+').replace(/_/g,'/'); }
    function pad(b){ return b+"===".slice((b.length+3)%4); }
    function decode(b){ try{ return atob(pad(fix(b))); }catch(e){ throw new Error('Invalid base64 payload'); } }
    const isHttp=(u)=>/^(https?:)\/\//i.test(u);

    speak('Reading…'); aria(25,'Reading');
    const raw=source();
    if(!raw){ speak('No input'); aria(100,'No input'); hint('Provide base64 via ?c=, ?b64=, ?base64=, data-urlb64, or window.REDIRECT_BASE64.'); return; }

    let url='';
    try{ url=decode(raw); }catch(e){ speak('Decode failed'); aria(100,'Decode error'); hint(e.message||String(e)); return; }
    if(!isHttp(url)){ speak('Unexpected URL'); aria(100,'Validation'); hint('Decoded value must start with http:// or https://'); return; }

    C.href=url; C.setAttribute('aria-disabled','false'); C.rel='noopener noreferrer';
    speak('Launching…'); aria(80,'Launching');
    setTimeout(()=>{ aria(100,'Redirect'); window.location.assign(url); },230);

    C.addEventListener('click',ev=>{ if(C.getAttribute('aria-disabled')==='true'){ ev.preventDefault(); }});
  })();
  </script>
</body>
</html>
